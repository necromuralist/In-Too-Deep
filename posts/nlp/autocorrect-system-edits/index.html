<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
<head>
<meta charset="utf-8">
<meta content="Edit manipulations for autocorrect." name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>Autocorrect System: Edits | Neurotic Networking</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<meta content="Nikola (getnikola.com)" name="generator">
<link href="../../../rss.xml" hreflang="en" rel="alternate" title="RSS" type="application/rss+xml">
<link href="https://necromuralist.github.io/Neurotic-Networking/posts/nlp/autocorrect-system-edits/" rel="canonical"><!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]-->
<link href="../../../apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="../../../favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="../../../favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="../../../site.webmanifest" rel="manifest">
<meta content="Cloistered Monkey" name="author">
<link href="../autocorrect-system-data-preprocessing/" rel="prev" title="Autocorrect System: Data Preprocessing" type="text/html">
<link href="../autocorrect-system-combining-the-edits/" rel="next" title="Autocorrect System: Combining the Edits" type="text/html">
<meta content="Neurotic Networking" property="og:site_name">
<meta content="Autocorrect System: Edits" property="og:title">
<meta content="https://necromuralist.github.io/Neurotic-Networking/posts/nlp/autocorrect-system-edits/" property="og:url">
<meta content="Edit manipulations for autocorrect." property="og:description">
<meta content="article" property="og:type">
<meta content="2020-11-05T21:04:06-08:00" property="article:published_time">
<meta content="autocorrect" property="article:tag">
<meta content="nlp" property="article:tag">
</head>
<body>
<a class="sr-only sr-only-focusable" href="#content">Skip to main content</a> <!-- Menubar -->
<nav class="navbar navbar-expand-md static-top mb-4 navbar-light bg-light">
<div class="container"><!-- This keeps the margins nice -->
 <a class="navbar-brand" href="../../../"><span id="blog-title">Neurotic Networking</span></a> <button aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#bs-navbar" data-toggle="collapse" type="button"><span class="navbar-toggler-icon"></span></button>
<div class="collapse navbar-collapse" id="bs-navbar">
<ul class="navbar-nav mr-auto">
<li class="nav-item"><a class="nav-link" href="../../../archive.html">Archive</a></li>
<li class="nav-item"><a class="nav-link" href="../../../categories/">Tags</a></li>
<li class="nav-item"><a class="nav-link" href="../../../rss.xml">RSS feed</a></li>
<li class="nav-item"><a class="nav-link" href="https://necromuralist.github.io/">Cloistered Monkey</a></li>
</ul>
<!-- Google custom search -->
<form action="https://www.google.com/search" class="navbar-form navbar-right" method="get" role="search">
<div class="form-group"><input class="form-control" name="q" placeholder="Search" type="text"></div>
<!-- 
<button type="submit" class="btn btn-primary">
        <span class="glyphicon glyphicon-search"></span>
</button>
-->
<input name="sitesearch" type="hidden" value="https://necromuralist.github.io/Neurotic-Networking/"></form>
<!-- End of custom search -->
<ul class="navbar-nav navbar-right">
<li class="nav-item"><a class="nav-link" href="index.org" id="sourcelink">Source</a></li>
</ul>
</div>
<!-- /.navbar-collapse --></div>
<!-- /.container --></nav>
<!-- End of Menubar -->
<div class="container" id="content" role="main">
<div class="body-content"><!--Body content-->
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title" itemprop="headline name"><a class="u-url" href=".">Autocorrect System: Edits</a></h1>
<div class="metadata">
<p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">Cloistered Monkey</span></p>
<p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2020-11-05T21:04:06-08:00" itemprop="datePublished" title="2020-11-05 21:04">2020-11-05 21:04</time></a></p>
<p class="sourceline"><a class="sourcelink" href="index.org">Source</a></p>
</div>
</header>
<div class="e-content entry-content" itemprop="articleBody text">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orge1ec0b5">Beginning</a></li>
<li><a href="#org1d3b1f4">Middle</a>
<ul>
<li><a href="#org87f2cea">Delete Letter</a></li>
<li><a href="#org35aef29">Switch Letter</a></li>
<li><a href="#org66f6861">Replace Letter</a></li>
<li><a href="#org2304333">Insert Letter</a></li>
</ul>
</li>
<li><a href="#org9390936">End</a>
<ul>
<li><a href="#orgd25ddae">The Editor</a></li>
<li><a href="#orgbda17fa">Checking the Editor</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-orge1ec0b5">
<h2 id="orge1ec0b5">Beginning</h2>
<div class="outline-text-2" id="text-orge1ec0b5">
<p>This is part of a series that's introduced in <a href="../autocorrect-the-system/">Autocorrect: The System</a>. In the <a href="../autocorrect-system-data-preprocessing/">previous post</a> of this series we computed \(P(w_i)\) for all the words in the corpus, so now we'll write a few functions to manipulate strings so that we can edit the erroneous strings and return the right spellings of the words. In this section, we'll implement four functions:</p>
<ul class="org-ul">
<li><code>delete_letter</code>: given a word, it returns all the possible strings that have <b>one character removed</b>.</li>
<li><code>switch_letter</code>: given a word, it returns all the possible strings that have <b>two adjacent letters switched</b>.</li>
<li><code>replace_letter</code>: given a word, it returns all the possible strings that have <b>one character replaced by another different letter</b>.</li>
<li><code>insert_letter</code>: given a word, it returns all the possible strings that have an <b>additional character inserted</b>.</li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-org1d3b1f4">
<h2 id="org1d3b1f4">Middle</h2>
<div class="outline-text-2" id="text-org1d3b1f4"></div>
<div class="outline-3" id="outline-container-org87f2cea">
<h3 id="org87f2cea">Delete Letter</h3>
<div class="outline-text-3" id="text-org87f2cea">
<p>We're going to implement a function that, given a word, returns a list of strings with one character deleted.</p>
<div class="highlight">
<pre><span></span><span class="k">def</span> <span class="nf">delete_letter</span><span class="p">(</span><span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
    <span class="sd">"""Delete one letter at a time</span>

<span class="sd">    Args:</span>
<span class="sd">      word: the string/word for which you will generate all possible words </span>
<span class="sd">               in the vocabulary which have 1 missing character</span>
<span class="sd">    Returns:</span>
<span class="sd">      delete_l: a list of all possible strings obtained by deleting 1 character from word</span>
<span class="sd">    """</span>

    <span class="n">delete_l</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">split_l</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1">### START CODE HERE ###</span>
    <span class="n">split_l</span> <span class="o">=</span> <span class="p">[(</span><span class="n">word</span><span class="p">[:</span><span class="n">index</span><span class="p">],</span> <span class="n">word</span><span class="p">[</span><span class="n">index</span><span class="p">:])</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
    <span class="n">delete_l</span> <span class="o">=</span> <span class="p">[</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">for</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="ow">in</span> <span class="n">split_l</span> <span class="k">if</span> <span class="n">right</span><span class="p">]</span>
    <span class="c1">### END CODE HERE ###</span>

    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"input word </span><span class="si">{</span><span class="n">word</span><span class="si">}</span><span class="s2">, </span><span class="se">\n</span><span class="s2">split_l = </span><span class="si">{</span><span class="n">split_l</span><span class="si">}</span><span class="s2">, </span><span class="se">\n</span><span class="s2">delete_l = </span><span class="si">{</span><span class="n">delete_l</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">delete_l</span>
</pre></div>
<div class="highlight">
<pre><span></span><span class="n">delete_word_l</span> <span class="o">=</span> <span class="n">delete_letter</span><span class="p">(</span><span class="n">word</span><span class="o">=</span><span class="s2">"cans"</span><span class="p">,</span>
                        <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">assert</span> <span class="n">delete_word_l</span> <span class="o">==</span> <span class="p">[</span><span class="s1">'ans'</span><span class="p">,</span> <span class="s1">'cns'</span><span class="p">,</span> <span class="s1">'cas'</span><span class="p">,</span> <span class="s1">'can'</span><span class="p">]</span>
</pre></div>
<pre class="example">
input word cans, 
split_l = [('', 'cans'), ('c', 'ans'), ('ca', 'ns'), ('can', 's'), ('cans', '')], 
delete_l = ['ans', 'cns', 'cas', 'can']
</pre>
<div class="highlight">
<pre><span></span><span class="n">deleted</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">delete_letter</span><span class="p">(</span><span class="s1">'at'</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Number of outputs of delete_letter('at') is </span><span class="si">{</span><span class="n">deleted</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">deleted</span> <span class="o">==</span> <span class="mi">2</span>
</pre></div>
<pre class="example">
Number of outputs of delete_letter('at') is 2
</pre></div>
</div>
<div class="outline-3" id="outline-container-org35aef29">
<h3 id="org35aef29">Switch Letter</h3>
<div class="outline-text-3" id="text-org35aef29">
<p>Now implement a function that switches two letters in a word. It takes in a word and returns a list of all the possible switches of two letters <b>that are adjacent to each other</b>.</p>
<ul class="org-ul">
<li>For example, given the word 'eta', it returns {'eat', 'tea'}, but does not return 'ate'.</li>
</ul>
<div class="highlight">
<pre><span></span><span class="k">def</span> <span class="nf">switch_letter</span><span class="p">(</span><span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
    <span class="sd">"""Switches pairs of adjacent letters</span>

<span class="sd">    Args:</span>
<span class="sd">      word: input string</span>
<span class="sd">    Returns:</span>
<span class="sd">      switches: a list of all possible strings with one adjacent charater switched</span>
<span class="sd">    """</span>

    <span class="n">switch_l</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">split_l</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1">### START CODE HERE ###</span>
    <span class="n">split_l</span> <span class="o">=</span> <span class="p">[(</span><span class="n">word</span><span class="p">[:</span><span class="n">index</span><span class="p">],</span> <span class="n">word</span><span class="p">[</span><span class="n">index</span><span class="p">:])</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
    <span class="n">switch_l</span> <span class="o">=</span> <span class="p">[</span><span class="n">left</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">right</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">left</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">right</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
                <span class="k">for</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="ow">in</span> <span class="n">split_l</span>
                <span class="k">if</span> <span class="n">left</span> <span class="ow">and</span> <span class="n">right</span><span class="p">]</span>
    <span class="c1">### END CODE HERE ###</span>

    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Input word = </span><span class="si">{</span><span class="n">word</span><span class="si">}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">split_l = </span><span class="si">{</span><span class="n">split_l</span><span class="si">}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">switch_l = </span><span class="si">{</span><span class="n">switch_l</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span> 

    <span class="k">return</span> <span class="n">switch_l</span>
</pre></div>
<div class="highlight">
<pre><span></span><span class="n">switch_word_l</span> <span class="o">=</span> <span class="n">switch_letter</span><span class="p">(</span><span class="n">word</span><span class="o">=</span><span class="s2">"eta"</span><span class="p">,</span>
                         <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">switch_word_l</span> <span class="o">==</span> <span class="p">[</span><span class="s1">'tea'</span><span class="p">,</span> <span class="s1">'eat'</span><span class="p">]</span>
</pre></div>
<pre class="example">
Input word = eta 
split_l = [('', 'eta'), ('e', 'ta'), ('et', 'a'), ('eta', '')] 
switch_l = ['tea', 'eat']
</pre>
<div class="highlight">
<pre><span></span><span class="n">switches</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">switch_letter</span><span class="p">(</span><span class="s1">'at'</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Number of outputs of switch_letter('at') is </span><span class="si">{</span><span class="n">switches</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">switches</span> <span class="o">==</span> <span class="mi">1</span>
</pre></div>
<pre class="example">
Number of outputs of switch_letter('at') is 1
</pre></div>
</div>
<div class="outline-3" id="outline-container-org66f6861">
<h3 id="org66f6861">Replace Letter</h3>
<div class="outline-text-3" id="text-org66f6861">
<p>Now implement a function that takes in a word and returns a list of strings with one <b>replaced letter</b> from the original word.</p>
<ul class="org-ul">
<li><b>Step 1:</b> is the same as in `delete_letter()`</li>
<li><b>Step 2:</b> A list comprehension or for loop which form strings by replacing letters. This can be of the form:</li>
</ul>
<p><code>[f(a,b,c) for a, b in splits if condition for c in string]</code> Note the use of the second for loop. It is expected in this routine that one or more of the replacements will include the original word. For example, replacing the first letter of 'ear' with 'e' will return 'ear'.</p>
<ul class="org-ul">
<li><b>Step 3:</b> Remove the original input letter from the output.</li>
</ul>
<div class="highlight">
<pre><span></span><span class="k">def</span> <span class="nf">replace_letter</span><span class="p">(</span><span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
    <span class="sd">"""Replace each letter in the string with another letter in the alphabet</span>

<span class="sd">    Args:</span>
<span class="sd">      word: the input string/word </span>

<span class="sd">    Returns:</span>
<span class="sd">      replaces: a list of all possible strings where we replaced one letter from the original word. </span>
<span class="sd">    """</span>

    <span class="n">letters</span> <span class="o">=</span> <span class="s1">'abcdefghijklmnopqrstuvwxyz'</span>
    <span class="n">replace_l</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">split_l</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1">### START CODE HERE ###</span>
    <span class="n">split_l</span> <span class="o">=</span> <span class="p">[(</span><span class="n">word</span><span class="p">[:</span><span class="n">index</span><span class="p">],</span> <span class="n">word</span><span class="p">[</span><span class="n">index</span><span class="p">:])</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
    <span class="n">replace_l</span> <span class="o">=</span> <span class="p">[</span><span class="n">left</span> <span class="o">+</span> <span class="n">letter</span> <span class="o">+</span> <span class="n">right</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">for</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="ow">in</span> <span class="n">split_l</span> <span class="k">if</span> <span class="n">right</span>
                <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">letters</span><span class="p">]</span>
    <span class="n">replace_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">replace_l</span><span class="p">)</span>
    <span class="n">replace_set</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="c1">### END CODE HERE ###</span>

    <span class="c1"># turn the set back into a list and sort it, for easier viewing</span>
    <span class="n">replace_l</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">replace_set</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Input word = </span><span class="si">{</span><span class="n">word</span><span class="si">}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">split_l = </span><span class="si">{</span><span class="n">split_l</span><span class="si">}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">replace_l </span><span class="si">{</span><span class="n">replace_l</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>   

    <span class="k">return</span> <span class="n">replace_l</span>
</pre></div>
<div class="highlight">
<pre><span></span><span class="n">word</span> <span class="o">=</span> <span class="s2">"can"</span>
<span class="n">replace_l</span> <span class="o">=</span> <span class="n">replace_letter</span><span class="p">(</span><span class="n">word</span><span class="o">=</span><span class="n">word</span><span class="p">,</span>
                              <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">expected_replacements</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">*</span> <span class="mi">26</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">replace_l</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected_replacements</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Replacements: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">replace_l</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'aan'</span><span class="p">,</span> <span class="s1">'ban'</span><span class="p">,</span> <span class="s1">'caa'</span><span class="p">,</span> <span class="s1">'cab'</span><span class="p">,</span> <span class="s1">'cac'</span><span class="p">,</span> <span class="s1">'cad'</span><span class="p">,</span> <span class="s1">'cae'</span><span class="p">,</span> <span class="s1">'caf'</span><span class="p">,</span> <span class="s1">'cag'</span><span class="p">,</span> <span class="s1">'cah'</span><span class="p">,</span> <span class="s1">'cai'</span><span class="p">,</span> <span class="s1">'caj'</span><span class="p">,</span> <span class="s1">'cak'</span><span class="p">,</span> <span class="s1">'cal'</span><span class="p">,</span> <span class="s1">'cam'</span><span class="p">,</span> <span class="s1">'cao'</span><span class="p">,</span> <span class="s1">'cap'</span><span class="p">,</span> <span class="s1">'caq'</span><span class="p">,</span> <span class="s1">'car'</span><span class="p">,</span> <span class="s1">'cas'</span><span class="p">,</span> <span class="s1">'cat'</span><span class="p">,</span> <span class="s1">'cau'</span><span class="p">,</span> <span class="s1">'cav'</span><span class="p">,</span> <span class="s1">'caw'</span><span class="p">,</span> <span class="s1">'cax'</span><span class="p">,</span> <span class="s1">'cay'</span><span class="p">,</span> <span class="s1">'caz'</span><span class="p">,</span> <span class="s1">'cbn'</span><span class="p">,</span> <span class="s1">'ccn'</span><span class="p">,</span> <span class="s1">'cdn'</span><span class="p">,</span> <span class="s1">'cen'</span><span class="p">,</span> <span class="s1">'cfn'</span><span class="p">,</span> <span class="s1">'cgn'</span><span class="p">,</span> <span class="s1">'chn'</span><span class="p">,</span> <span class="s1">'cin'</span><span class="p">,</span> <span class="s1">'cjn'</span><span class="p">,</span> <span class="s1">'ckn'</span><span class="p">,</span> <span class="s1">'cln'</span><span class="p">,</span> <span class="s1">'cmn'</span><span class="p">,</span> <span class="s1">'cnn'</span><span class="p">,</span> <span class="s1">'con'</span><span class="p">,</span> <span class="s1">'cpn'</span><span class="p">,</span> <span class="s1">'cqn'</span><span class="p">,</span> <span class="s1">'crn'</span><span class="p">,</span> <span class="s1">'csn'</span><span class="p">,</span> <span class="s1">'ctn'</span><span class="p">,</span> <span class="s1">'cun'</span><span class="p">,</span> <span class="s1">'cvn'</span><span class="p">,</span> <span class="s1">'cwn'</span><span class="p">,</span> <span class="s1">'cxn'</span><span class="p">,</span> <span class="s1">'cyn'</span><span class="p">,</span> <span class="s1">'czn'</span><span class="p">,</span> <span class="s1">'dan'</span><span class="p">,</span> <span class="s1">'ean'</span><span class="p">,</span> <span class="s1">'fan'</span><span class="p">,</span> <span class="s1">'gan'</span><span class="p">,</span> <span class="s1">'han'</span><span class="p">,</span> <span class="s1">'ian'</span><span class="p">,</span> <span class="s1">'jan'</span><span class="p">,</span> <span class="s1">'kan'</span><span class="p">,</span> <span class="s1">'lan'</span><span class="p">,</span> <span class="s1">'man'</span><span class="p">,</span> <span class="s1">'nan'</span><span class="p">,</span> <span class="s1">'oan'</span><span class="p">,</span> <span class="s1">'pan'</span><span class="p">,</span> <span class="s1">'qan'</span><span class="p">,</span> <span class="s1">'ran'</span><span class="p">,</span> <span class="s1">'san'</span><span class="p">,</span> <span class="s1">'tan'</span><span class="p">,</span> <span class="s1">'uan'</span><span class="p">,</span> <span class="s1">'van'</span><span class="p">,</span> <span class="s1">'wan'</span><span class="p">,</span> <span class="s1">'xan'</span><span class="p">,</span> <span class="s1">'yan'</span><span class="p">,</span> <span class="s1">'zan'</span><span class="p">]</span>
<span class="k">assert</span> <span class="n">replace_l</span> <span class="o">==</span> <span class="n">expected</span>
</pre></div>
<pre class="example">
Input word = can 
split_l = [('', 'can'), ('c', 'an'), ('ca', 'n'), ('can', '')] 
replace_l ['aan', 'ban', 'caa', 'cab', 'cac', 'cad', 'cae', 'caf', 'cag', 'cah', 'cai', 'caj', 'cak', 'cal', 'cam', 'cao', 'cap', 'caq', 'car', 'cas', 'cat', 'cau', 'cav', 'caw', 'cax', 'cay', 'caz', 'cbn', 'ccn', 'cdn', 'cen', 'cfn', 'cgn', 'chn', 'cin', 'cjn', 'ckn', 'cln', 'cmn', 'cnn', 'con', 'cpn', 'cqn', 'crn', 'csn', 'ctn', 'cun', 'cvn', 'cwn', 'cxn', 'cyn', 'czn', 'dan', 'ean', 'fan', 'gan', 'han', 'ian', 'jan', 'kan', 'lan', 'man', 'nan', 'oan', 'pan', 'qan', 'ran', 'san', 'tan', 'uan', 'van', 'wan', 'xan', 'yan', 'zan']
Replacements: 75
</pre>
<div class="highlight">
<pre><span></span><span class="n">word</span> <span class="o">=</span> <span class="s2">"at"</span>
<span class="n">replacements</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">replace_letter</span><span class="p">(</span><span class="n">word</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Number of outputs of replace_letter('at') is </span><span class="si">{</span><span class="n">replacements</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="n">expected</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">*</span> <span class="mi">26</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">replacements</span>
</pre></div>
<pre class="example">
Number of outputs of replace_letter('at') is 50
</pre></div>
</div>
<div class="outline-3" id="outline-container-org2304333">
<h3 id="org2304333">Insert Letter</h3>
<div class="outline-text-3" id="text-org2304333">
<p>Now implement a function that takes in a word and returns a list with a letter inserted at every offset.</p>
<ul class="org-ul">
<li><b>Step 1:</b> is the same as in `delete_letter()`</li>
<li><b>Step 2:</b> This can be a list comprehension of the form: <code>[f(a,b,c) for a, b in splits if condition for c in string]</code></li>
</ul>
<div class="highlight">
<pre><span></span><span class="k">def</span> <span class="nf">insert_letter</span><span class="p">(</span><span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
    <span class="sd">"""Stick a letter before and after each letter in the word</span>

<span class="sd">    Args:</span>
<span class="sd">      word: the input string/word </span>

<span class="sd">    Returns:</span>
<span class="sd">      inserts: a set of all possible strings with one new letter inserted at every offset</span>
<span class="sd">    """</span>
    <span class="n">letters</span> <span class="o">=</span> <span class="s1">'abcdefghijklmnopqrstuvwxyz'</span>
    <span class="n">insert_l</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">split_l</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1">### START CODE HERE ###</span>
    <span class="n">split_l</span> <span class="o">=</span> <span class="p">[(</span><span class="n">word</span><span class="p">[:</span><span class="n">index</span><span class="p">],</span> <span class="n">word</span><span class="p">[</span><span class="n">index</span><span class="p">:])</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
    <span class="n">insert_l</span> <span class="o">=</span> <span class="p">[</span><span class="n">left</span> <span class="o">+</span> <span class="n">letter</span> <span class="o">+</span> <span class="n">right</span> <span class="k">for</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="ow">in</span> <span class="n">split_l</span> <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">letters</span><span class="p">]</span>
    <span class="c1">### END CODE HERE ###</span>

    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Input word </span><span class="si">{</span><span class="n">word</span><span class="si">}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">split_l = </span><span class="si">{</span><span class="n">split_l</span><span class="si">}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">insert_l = </span><span class="si">{</span><span class="n">insert_l</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">insert_l</span>
</pre></div>
<div class="highlight">
<pre><span></span><span class="n">word</span> <span class="o">=</span> <span class="s2">"at"</span>
<span class="n">insert_l</span> <span class="o">=</span> <span class="n">insert_letter</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">inserted</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">insert_l</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Number of strings output by insert_letter('at') is </span><span class="si">{</span><span class="n">inserted</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="k">assert</span> <span class="n">inserted</span> <span class="o">==</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">26</span>

<span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'aat'</span><span class="p">,</span> <span class="s1">'bat'</span><span class="p">,</span> <span class="s1">'cat'</span><span class="p">,</span> <span class="s1">'dat'</span><span class="p">,</span> <span class="s1">'eat'</span><span class="p">,</span> <span class="s1">'fat'</span><span class="p">,</span> <span class="s1">'gat'</span><span class="p">,</span> <span class="s1">'hat'</span><span class="p">,</span> <span class="s1">'iat'</span><span class="p">,</span> <span class="s1">'jat'</span><span class="p">,</span> <span class="s1">'kat'</span><span class="p">,</span> <span class="s1">'lat'</span><span class="p">,</span> <span class="s1">'mat'</span><span class="p">,</span> <span class="s1">'nat'</span><span class="p">,</span> <span class="s1">'oat'</span><span class="p">,</span> <span class="s1">'pat'</span><span class="p">,</span> <span class="s1">'qat'</span><span class="p">,</span> <span class="s1">'rat'</span><span class="p">,</span> <span class="s1">'sat'</span><span class="p">,</span> <span class="s1">'tat'</span><span class="p">,</span> <span class="s1">'uat'</span><span class="p">,</span> <span class="s1">'vat'</span><span class="p">,</span> <span class="s1">'wat'</span><span class="p">,</span> <span class="s1">'xat'</span><span class="p">,</span> <span class="s1">'yat'</span><span class="p">,</span> <span class="s1">'zat'</span><span class="p">,</span> <span class="s1">'aat'</span><span class="p">,</span> <span class="s1">'abt'</span><span class="p">,</span> <span class="s1">'act'</span><span class="p">,</span> <span class="s1">'adt'</span><span class="p">,</span> <span class="s1">'aet'</span><span class="p">,</span> <span class="s1">'aft'</span><span class="p">,</span> <span class="s1">'agt'</span><span class="p">,</span> <span class="s1">'aht'</span><span class="p">,</span> <span class="s1">'ait'</span><span class="p">,</span> <span class="s1">'ajt'</span><span class="p">,</span> <span class="s1">'akt'</span><span class="p">,</span> <span class="s1">'alt'</span><span class="p">,</span> <span class="s1">'amt'</span><span class="p">,</span> <span class="s1">'ant'</span><span class="p">,</span> <span class="s1">'aot'</span><span class="p">,</span> <span class="s1">'apt'</span><span class="p">,</span> <span class="s1">'aqt'</span><span class="p">,</span> <span class="s1">'art'</span><span class="p">,</span> <span class="s1">'ast'</span><span class="p">,</span> <span class="s1">'att'</span><span class="p">,</span> <span class="s1">'aut'</span><span class="p">,</span> <span class="s1">'avt'</span><span class="p">,</span> <span class="s1">'awt'</span><span class="p">,</span> <span class="s1">'axt'</span><span class="p">,</span> <span class="s1">'ayt'</span><span class="p">,</span> <span class="s1">'azt'</span><span class="p">,</span> <span class="s1">'ata'</span><span class="p">,</span> <span class="s1">'atb'</span><span class="p">,</span> <span class="s1">'atc'</span><span class="p">,</span> <span class="s1">'atd'</span><span class="p">,</span> <span class="s1">'ate'</span><span class="p">,</span> <span class="s1">'atf'</span><span class="p">,</span> <span class="s1">'atg'</span><span class="p">,</span> <span class="s1">'ath'</span><span class="p">,</span> <span class="s1">'ati'</span><span class="p">,</span> <span class="s1">'atj'</span><span class="p">,</span> <span class="s1">'atk'</span><span class="p">,</span> <span class="s1">'atl'</span><span class="p">,</span> <span class="s1">'atm'</span><span class="p">,</span> <span class="s1">'atn'</span><span class="p">,</span> <span class="s1">'ato'</span><span class="p">,</span> <span class="s1">'atp'</span><span class="p">,</span> <span class="s1">'atq'</span><span class="p">,</span> <span class="s1">'atr'</span><span class="p">,</span> <span class="s1">'ats'</span><span class="p">,</span> <span class="s1">'att'</span><span class="p">,</span> <span class="s1">'atu'</span><span class="p">,</span> <span class="s1">'atv'</span><span class="p">,</span> <span class="s1">'atw'</span><span class="p">,</span> <span class="s1">'atx'</span><span class="p">,</span> <span class="s1">'aty'</span><span class="p">,</span> <span class="s1">'atz'</span><span class="p">]</span>

<span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">insert_l</span>
</pre></div>
<pre class="example">
Input word at 
split_l = [('', 'at'), ('a', 't'), ('at', '')] 
insert_l = ['aat', 'bat', 'cat', 'dat', 'eat', 'fat', 'gat', 'hat', 'iat', 'jat', 'kat', 'lat', 'mat', 'nat', 'oat', 'pat', 'qat', 'rat', 'sat', 'tat', 'uat', 'vat', 'wat', 'xat', 'yat', 'zat', 'aat', 'abt', 'act', 'adt', 'aet', 'aft', 'agt', 'aht', 'ait', 'ajt', 'akt', 'alt', 'amt', 'ant', 'aot', 'apt', 'aqt', 'art', 'ast', 'att', 'aut', 'avt', 'awt', 'axt', 'ayt', 'azt', 'ata', 'atb', 'atc', 'atd', 'ate', 'atf', 'atg', 'ath', 'ati', 'atj', 'atk', 'atl', 'atm', 'atn', 'ato', 'atp', 'atq', 'atr', 'ats', 'att', 'atu', 'atv', 'atw', 'atx', 'aty', 'atz']
Number of strings output by insert_letter('at') is 78
</pre>
<div class="highlight">
<pre><span></span><span class="n">word</span> <span class="o">=</span> <span class="s2">"at"</span>
<span class="n">inserted</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">insert_letter</span><span class="p">(</span><span class="n">word</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Number of outputs of insert_letter('at') is </span><span class="si">{</span><span class="n">inserted</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="n">expected</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">26</span>
<span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">inserted</span>
</pre></div>
<pre class="example">
Number of outputs of insert_letter('at') is 78
</pre></div>
</div>
</div>
<div class="outline-2" id="outline-container-org9390936">
<h2 id="org9390936">End</h2>
<div class="outline-text-2" id="text-org9390936"></div>
<div class="outline-3" id="outline-container-orgd25ddae">
<h3 id="orgd25ddae">The Editor</h3>
<div class="outline-text-3" id="text-orgd25ddae">
<p>Now to bundle it up for later.</p>
</div>
<div class="outline-4" id="outline-container-org6aed2f8">
<h4 id="org6aed2f8">Imports</h4>
<div class="outline-text-4" id="text-org6aed2f8">
<div class="highlight">
<pre><span></span><span class="c1"># python</span>
<span class="kn">from</span> <span class="nn">string</span> <span class="kn">import</span> <span class="n">ascii_lowercase</span>
<span class="c1"># from pypi</span>
<span class="kn">import</span> <span class="nn">attr</span>
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-orga664649">
<h4 id="orga664649">The Editor Class</h4>
<div class="outline-text-4" id="text-orga664649">
<div class="highlight">
<pre><span></span><span class="nd">@attr</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="n">auto_attribs</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">TheEditor</span><span class="p">:</span>
    <span class="sd">"""Does various edits to words</span>

<span class="sd">    Args:</span>
<span class="sd">     word: string to edit</span>
<span class="sd">    """</span>
    <span class="n">word</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">_splits</span><span class="p">:</span> <span class="nb">list</span><span class="o">=</span><span class="kc">None</span>
    <span class="n">_deleted</span><span class="p">:</span> <span class="nb">list</span><span class="o">=</span><span class="kc">None</span>
    <span class="n">_switched</span><span class="p">:</span> <span class="nb">list</span><span class="o">=</span><span class="kc">None</span>
    <span class="n">_replaced</span><span class="p">:</span> <span class="nb">list</span><span class="o">=</span><span class="kc">None</span>
    <span class="n">_inserted</span><span class="p">:</span> <span class="nb">list</span><span class="o">=</span><span class="kc">None</span>
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-org56e1b58">
<h4 id="org56e1b58">Splits</h4>
<div class="outline-text-4" id="text-org56e1b58">
<p>A list of splits.</p>
<div class="highlight">
<pre><span></span><span class="nd">@property</span>
<span class="k">def</span> <span class="nf">splits</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
    <span class="sd">"""Tuples of splits for word"""</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_splits</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_splits</span> <span class="o">=</span> <span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">word</span><span class="p">[:</span><span class="n">index</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">word</span><span class="p">[</span><span class="n">index</span><span class="p">:])</span>
                        <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">word</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_splits</span>
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-orgbfaaa08">
<h4 id="orgbfaaa08">Deleted</h4>
<div class="outline-text-4" id="text-orgbfaaa08">
<div class="highlight">
<pre><span></span><span class="nd">@property</span>
<span class="k">def</span> <span class="nf">deleted</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
    <span class="sd">"""Deletes one letter at a time from the word</span>

<span class="sd">    Returns:</span>
<span class="sd">     list of all possible strings created by deleting one letter</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deleted</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_deleted</span> <span class="o">=</span> <span class="p">[</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
                         <span class="k">for</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">splits</span> <span class="k">if</span> <span class="n">right</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deleted</span>
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-org272d3c8">
<h4 id="org272d3c8">Switched</h4>
<div class="outline-text-4" id="text-org272d3c8">
<div class="highlight">
<pre><span></span><span class="nd">@property</span>
<span class="k">def</span> <span class="nf">switched</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
    <span class="sd">"""switches one letter pair at a time</span>

<span class="sd">    Returns:</span>
<span class="sd">     all possible strings with one adjacent charater switched</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_switched</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_switched</span> <span class="o">=</span> <span class="p">[</span><span class="n">left</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">right</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">left</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">right</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
                          <span class="k">for</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">splits</span>
                          <span class="k">if</span> <span class="n">left</span> <span class="ow">and</span> <span class="n">right</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_switched</span>
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-orgafac6cb">
<h4 id="orgafac6cb">Replace a Letter</h4>
<div class="outline-text-4" id="text-orgafac6cb">
<div class="highlight">
<pre><span></span><span class="nd">@property</span>
<span class="k">def</span> <span class="nf">replaced</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
    <span class="sd">"""Replace each letter with every other letter of the alphabet</span>

<span class="sd">    Returns:</span>
<span class="sd">     replacements in alphabetical order (doesn't include original word)</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_replaced</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replaced</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">left</span> <span class="o">+</span> <span class="n">letter</span> <span class="o">+</span> <span class="n">right</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
                              <span class="k">for</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">splits</span> <span class="k">if</span> <span class="n">right</span>
                              <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">ascii_lowercase</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replaced</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">word</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replaced</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_replaced</span><span class="p">))</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_replaced</span>
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-orga203576">
<h4 id="orga203576">Insert Letters</h4>
<div class="outline-text-4" id="text-orga203576">
<div class="highlight">
<pre><span></span><span class="nd">@property</span>
<span class="k">def</span> <span class="nf">inserted</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
    <span class="sd">"""Adds letters before and after each letter</span>

<span class="sd">    Returns:</span>
<span class="sd">      all possible strings with one new letter inserted at every offset</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inserted</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_inserted</span> <span class="o">=</span> <span class="p">[</span><span class="n">left</span> <span class="o">+</span> <span class="n">letter</span> <span class="o">+</span> <span class="n">right</span>
                          <span class="k">for</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">splits</span>
                          <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">ascii_lowercase</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inserted</span>
</pre></div>
</div>
</div>
</div>
<div class="outline-3" id="outline-container-orgbda17fa">
<h3 id="orgbda17fa">Checking the Editor</h3>
<div class="outline-text-3" id="text-orgbda17fa">
<div class="highlight">
<pre><span></span><span class="kn">from</span> <span class="nn">neurotic.nlp.autocorrect.edits</span> <span class="kn">import</span> <span class="n">TheEditor</span>

<span class="n">editor</span> <span class="o">=</span> <span class="n">TheEditor</span><span class="p">(</span><span class="n">word</span><span class="o">=</span><span class="s2">"cans"</span><span class="p">)</span>

<span class="c1"># splits</span>
<span class="n">expected</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">''</span><span class="p">,</span> <span class="s1">'cans'</span><span class="p">),</span> <span class="p">(</span><span class="s1">'c'</span><span class="p">,</span> <span class="s1">'ans'</span><span class="p">),</span> <span class="p">(</span><span class="s1">'ca'</span><span class="p">,</span> <span class="s1">'ns'</span><span class="p">),</span> <span class="p">(</span><span class="s1">'can'</span><span class="p">,</span> <span class="s1">'s'</span><span class="p">),</span> <span class="p">(</span><span class="s1">'cans'</span><span class="p">,</span> <span class="s1">''</span><span class="p">)]</span>
<span class="k">assert</span> <span class="n">editor</span><span class="o">.</span><span class="n">splits</span> <span class="o">==</span> <span class="n">expected</span><span class="p">,</span> <span class="n">editor</span><span class="o">.</span><span class="n">splits</span>

<span class="c1"># deletions</span>
<span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'ans'</span><span class="p">,</span> <span class="s1">'cns'</span><span class="p">,</span> <span class="s1">'cas'</span><span class="p">,</span> <span class="s1">'can'</span><span class="p">]</span>

<span class="k">assert</span> <span class="n">editor</span><span class="o">.</span><span class="n">deleted</span> <span class="o">==</span> <span class="n">expected</span>

<span class="c1"># switches</span>
<span class="n">word</span> <span class="o">=</span> <span class="s2">"eta"</span>
<span class="n">editor</span> <span class="o">=</span> <span class="n">TheEditor</span><span class="p">(</span><span class="n">word</span><span class="o">=</span><span class="n">word</span><span class="p">)</span>
<span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'tea'</span><span class="p">,</span> <span class="s1">'eat'</span><span class="p">]</span>
<span class="k">assert</span> <span class="n">editor</span><span class="o">.</span><span class="n">switched</span> <span class="o">==</span> <span class="n">expected</span>

<span class="n">editor</span> <span class="o">=</span> <span class="n">TheEditor</span><span class="p">(</span><span class="n">word</span><span class="o">=</span><span class="s2">"at"</span><span class="p">)</span>
<span class="n">switches</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">editor</span><span class="o">.</span><span class="n">switched</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Number of outputs of switch_letter('at') is </span><span class="si">{</span><span class="n">switches</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">switches</span> <span class="o">==</span> <span class="mi">1</span>

<span class="c1"># replacements</span>
<span class="n">word</span> <span class="o">=</span> <span class="s2">"can"</span>
<span class="n">editor</span> <span class="o">=</span> <span class="n">TheEditor</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="n">replacements</span> <span class="o">=</span> <span class="n">editor</span><span class="o">.</span><span class="n">replaced</span>
<span class="n">expected</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">*</span> <span class="mi">26</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">replacements</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected</span><span class="p">,</span> <span class="sa">f</span><span class="s2">"expected: </span><span class="si">{</span><span class="n">expected</span><span class="si">}</span><span class="s2"> actual: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">replacements</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span>

<span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'aan'</span><span class="p">,</span> <span class="s1">'ban'</span><span class="p">,</span> <span class="s1">'caa'</span><span class="p">,</span> <span class="s1">'cab'</span><span class="p">,</span> <span class="s1">'cac'</span><span class="p">,</span> <span class="s1">'cad'</span><span class="p">,</span> <span class="s1">'cae'</span><span class="p">,</span> <span class="s1">'caf'</span><span class="p">,</span> <span class="s1">'cag'</span><span class="p">,</span> <span class="s1">'cah'</span><span class="p">,</span> <span class="s1">'cai'</span><span class="p">,</span> <span class="s1">'caj'</span><span class="p">,</span> <span class="s1">'cak'</span><span class="p">,</span> <span class="s1">'cal'</span><span class="p">,</span> <span class="s1">'cam'</span><span class="p">,</span> <span class="s1">'cao'</span><span class="p">,</span> <span class="s1">'cap'</span><span class="p">,</span> <span class="s1">'caq'</span><span class="p">,</span> <span class="s1">'car'</span><span class="p">,</span> <span class="s1">'cas'</span><span class="p">,</span> <span class="s1">'cat'</span><span class="p">,</span> <span class="s1">'cau'</span><span class="p">,</span> <span class="s1">'cav'</span><span class="p">,</span> <span class="s1">'caw'</span><span class="p">,</span> <span class="s1">'cax'</span><span class="p">,</span> <span class="s1">'cay'</span><span class="p">,</span> <span class="s1">'caz'</span><span class="p">,</span> <span class="s1">'cbn'</span><span class="p">,</span> <span class="s1">'ccn'</span><span class="p">,</span> <span class="s1">'cdn'</span><span class="p">,</span> <span class="s1">'cen'</span><span class="p">,</span> <span class="s1">'cfn'</span><span class="p">,</span> <span class="s1">'cgn'</span><span class="p">,</span> <span class="s1">'chn'</span><span class="p">,</span> <span class="s1">'cin'</span><span class="p">,</span> <span class="s1">'cjn'</span><span class="p">,</span> <span class="s1">'ckn'</span><span class="p">,</span> <span class="s1">'cln'</span><span class="p">,</span> <span class="s1">'cmn'</span><span class="p">,</span> <span class="s1">'cnn'</span><span class="p">,</span> <span class="s1">'con'</span><span class="p">,</span> <span class="s1">'cpn'</span><span class="p">,</span> <span class="s1">'cqn'</span><span class="p">,</span> <span class="s1">'crn'</span><span class="p">,</span> <span class="s1">'csn'</span><span class="p">,</span> <span class="s1">'ctn'</span><span class="p">,</span> <span class="s1">'cun'</span><span class="p">,</span> <span class="s1">'cvn'</span><span class="p">,</span> <span class="s1">'cwn'</span><span class="p">,</span> <span class="s1">'cxn'</span><span class="p">,</span> <span class="s1">'cyn'</span><span class="p">,</span> <span class="s1">'czn'</span><span class="p">,</span> <span class="s1">'dan'</span><span class="p">,</span> <span class="s1">'ean'</span><span class="p">,</span> <span class="s1">'fan'</span><span class="p">,</span> <span class="s1">'gan'</span><span class="p">,</span> <span class="s1">'han'</span><span class="p">,</span> <span class="s1">'ian'</span><span class="p">,</span> <span class="s1">'jan'</span><span class="p">,</span> <span class="s1">'kan'</span><span class="p">,</span> <span class="s1">'lan'</span><span class="p">,</span> <span class="s1">'man'</span><span class="p">,</span> <span class="s1">'nan'</span><span class="p">,</span> <span class="s1">'oan'</span><span class="p">,</span> <span class="s1">'pan'</span><span class="p">,</span> <span class="s1">'qan'</span><span class="p">,</span> <span class="s1">'ran'</span><span class="p">,</span> <span class="s1">'san'</span><span class="p">,</span> <span class="s1">'tan'</span><span class="p">,</span> <span class="s1">'uan'</span><span class="p">,</span> <span class="s1">'van'</span><span class="p">,</span> <span class="s1">'wan'</span><span class="p">,</span> <span class="s1">'xan'</span><span class="p">,</span> <span class="s1">'yan'</span><span class="p">,</span> <span class="s1">'zan'</span><span class="p">]</span>
<span class="k">assert</span> <span class="n">replacements</span> <span class="o">==</span> <span class="n">expected</span>

<span class="n">word</span> <span class="o">=</span> <span class="s2">"at"</span>
<span class="n">editor</span> <span class="o">=</span> <span class="n">TheEditor</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="n">expected</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">*</span> <span class="mi">26</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">editor</span><span class="o">.</span><span class="n">replaced</span><span class="p">)</span>

<span class="c1"># Insertions</span>
<span class="n">inserted</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">editor</span><span class="o">.</span><span class="n">inserted</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">inserted</span> <span class="o">==</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">26</span>

<span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'aat'</span><span class="p">,</span> <span class="s1">'bat'</span><span class="p">,</span> <span class="s1">'cat'</span><span class="p">,</span> <span class="s1">'dat'</span><span class="p">,</span> <span class="s1">'eat'</span><span class="p">,</span> <span class="s1">'fat'</span><span class="p">,</span> <span class="s1">'gat'</span><span class="p">,</span> <span class="s1">'hat'</span><span class="p">,</span> <span class="s1">'iat'</span><span class="p">,</span> <span class="s1">'jat'</span><span class="p">,</span> <span class="s1">'kat'</span><span class="p">,</span> <span class="s1">'lat'</span><span class="p">,</span> <span class="s1">'mat'</span><span class="p">,</span> <span class="s1">'nat'</span><span class="p">,</span> <span class="s1">'oat'</span><span class="p">,</span> <span class="s1">'pat'</span><span class="p">,</span> <span class="s1">'qat'</span><span class="p">,</span> <span class="s1">'rat'</span><span class="p">,</span> <span class="s1">'sat'</span><span class="p">,</span> <span class="s1">'tat'</span><span class="p">,</span> <span class="s1">'uat'</span><span class="p">,</span> <span class="s1">'vat'</span><span class="p">,</span> <span class="s1">'wat'</span><span class="p">,</span> <span class="s1">'xat'</span><span class="p">,</span> <span class="s1">'yat'</span><span class="p">,</span> <span class="s1">'zat'</span><span class="p">,</span> <span class="s1">'aat'</span><span class="p">,</span> <span class="s1">'abt'</span><span class="p">,</span> <span class="s1">'act'</span><span class="p">,</span> <span class="s1">'adt'</span><span class="p">,</span> <span class="s1">'aet'</span><span class="p">,</span> <span class="s1">'aft'</span><span class="p">,</span> <span class="s1">'agt'</span><span class="p">,</span> <span class="s1">'aht'</span><span class="p">,</span> <span class="s1">'ait'</span><span class="p">,</span> <span class="s1">'ajt'</span><span class="p">,</span> <span class="s1">'akt'</span><span class="p">,</span> <span class="s1">'alt'</span><span class="p">,</span> <span class="s1">'amt'</span><span class="p">,</span> <span class="s1">'ant'</span><span class="p">,</span> <span class="s1">'aot'</span><span class="p">,</span> <span class="s1">'apt'</span><span class="p">,</span> <span class="s1">'aqt'</span><span class="p">,</span> <span class="s1">'art'</span><span class="p">,</span> <span class="s1">'ast'</span><span class="p">,</span> <span class="s1">'att'</span><span class="p">,</span> <span class="s1">'aut'</span><span class="p">,</span> <span class="s1">'avt'</span><span class="p">,</span> <span class="s1">'awt'</span><span class="p">,</span> <span class="s1">'axt'</span><span class="p">,</span> <span class="s1">'ayt'</span><span class="p">,</span> <span class="s1">'azt'</span><span class="p">,</span> <span class="s1">'ata'</span><span class="p">,</span> <span class="s1">'atb'</span><span class="p">,</span> <span class="s1">'atc'</span><span class="p">,</span> <span class="s1">'atd'</span><span class="p">,</span> <span class="s1">'ate'</span><span class="p">,</span> <span class="s1">'atf'</span><span class="p">,</span> <span class="s1">'atg'</span><span class="p">,</span> <span class="s1">'ath'</span><span class="p">,</span> <span class="s1">'ati'</span><span class="p">,</span> <span class="s1">'atj'</span><span class="p">,</span> <span class="s1">'atk'</span><span class="p">,</span> <span class="s1">'atl'</span><span class="p">,</span> <span class="s1">'atm'</span><span class="p">,</span> <span class="s1">'atn'</span><span class="p">,</span> <span class="s1">'ato'</span><span class="p">,</span> <span class="s1">'atp'</span><span class="p">,</span> <span class="s1">'atq'</span><span class="p">,</span> <span class="s1">'atr'</span><span class="p">,</span> <span class="s1">'ats'</span><span class="p">,</span> <span class="s1">'att'</span><span class="p">,</span> <span class="s1">'atu'</span><span class="p">,</span> <span class="s1">'atv'</span><span class="p">,</span> <span class="s1">'atw'</span><span class="p">,</span> <span class="s1">'atx'</span><span class="p">,</span> <span class="s1">'aty'</span><span class="p">,</span> <span class="s1">'atz'</span><span class="p">]</span>

<span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">editor</span><span class="o">.</span><span class="n">inserted</span>

<span class="n">word</span> <span class="o">=</span> <span class="s2">"at"</span>
<span class="n">editor</span> <span class="o">=</span> <span class="n">TheEditor</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="n">inserted</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">editor</span><span class="o">.</span><span class="n">inserted</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Number of outputs of insert_letter('at') is </span><span class="si">{</span><span class="n">inserted</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="n">expected</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">26</span>
<span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">inserted</span>
</pre></div>
</div>
</div>
</div>
</div>
<aside class="postpromonav">
<nav>
<ul class="tags" itemprop="keywords">
<li><a class="tag p-category" href="../../../categories/autocorrect/" rel="tag">autocorrect</a></li>
<li><a class="tag p-category" href="../../../categories/nlp/" rel="tag">nlp</a></li>
</ul>
<ul class="pager hidden-print">
<li class="previous"><a href="../autocorrect-system-data-preprocessing/" rel="prev" title="Autocorrect System: Data Preprocessing">Previous post</a></li>
<li class="next"><a href="../autocorrect-system-combining-the-edits/" rel="next" title="Autocorrect System: Combining the Edits">Next post</a></li>
</ul>
</nav>
</aside>
<script async id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>
<script type="text/x-mathjax-config">

        MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']],},

        });
</script>
<link href="https://cdn.jsdelivr.net/npm/pseudocode@latest/build/pseudocode.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/pseudocode@latest/build/pseudocode.min.js"></script>
<script>

    MathJax = {
        tex: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            displayMath: [['$$','$$'], ['\\[','\\]']],
            processEscapes: true,
            processEnvironments: true,
        }
    }
</script>
<link href="https://cdn.jsdelivr.net/npm/pseudocode@latest/build/pseudocode.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/pseudocode@latest/build/pseudocode.min.js"></script></article>
<!--End of body content-->
<footer id="footer"><a href="http://creativecommons.org/licenses/by/4.0/" rel="license"><img alt="Creative Commons License" id="license-image" src="https://i.creativecommons.org/l/by/4.0/80x15.png" style="border-width:0"></a>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/" rel="license">Creative Commons Attribution 4.0 International License</a>. <a href="mailto:necromuralist@protonmail.com">Cloistered Monkey</a> - Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a></footer>
</div>
</div>
<script src="../../../assets/js/all-nocdn.js"></script>
<script>

    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
</script>
</body>
</html>
